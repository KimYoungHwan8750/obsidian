
ìš” ê·¼ë˜ íšŒì‚¬ ì—…ë¬´ë¥¼ ì§„í–‰í•˜ë©´ì„œ ë””ìì¸ íŒ¨í„´ì´ë‚˜ ê°œë°œ ë°©ë²•ë¡ ë“± ì´ë¡ ì ì¸ ë¶€ì¡±í•¨ì´ í¬ê²Œ ì™€ë‹¿ê³  ìˆë‹¤. "ê°œë°œí•˜ëŠ”ì", ê°œë°œìë¼ëŠ” ê·¸ ì´ë¦„ì— ê±¸ë§ê²Œ ì½”ë”©ì„ í†µí•œ êµ¬í˜„ë³´ë‹¤ëŠ” ê°œë°œì´ë¼ëŠ” ë‹¨ì–´ê°€ ê°€ì§€ëŠ” í¬ê´„ì  ì˜ë¯¸ì¸ ê¸°íš, ì„¤ê³„ë“±ì´ ë” ì–´ë µê²Œ ëŠê»´ì§€ëŠ” ìš”ì¦˜ì´ë‹¤. ê·¸ì—ë”°ë¼ ë‚´ê°€ ê³µë¶€í•œ ë‚´ìš©ì„ ì •ë¦¬í•´ë³¼ê¹Œ í•œë‹¤.

## ì˜µì €ë²„ íŒ¨í„´

ì˜µì €ë²„ íŒ¨í„´ì´ë€? Pub/Sub êµ¬ì¡°ë¡œë„ í”íˆ ì•Œë ¤ì ¸ìˆê³ , ì•„ë§ˆ ë°€ë ˆë‹ˆì—„ ì´ì „ì— íƒœì–´ë‚œ ì„¸ëŒ€ë¼ë©´ ëˆ„êµ¬ë‚˜ ì•Œê³  ìˆì„ ê²Œì„ì˜ ìœ ë‹›ì´ê¸°ë„ í•˜ë‹¤. ë””í…ë” ëŠ¥ë ¥ì„ ê°€ì§„ ìœ ë‹›ì´ ì—†ë‹¤ë©´ ì´ ìœ ë‹›ì´ ë‚˜ì˜ ì „ì¥ì„ ì—¼íƒí•˜ëŠ” ê±¸ ë‘ ëˆˆ ëœ¨ê³  ì§€ì¼œë´ì•¼í–ˆë˜ ì•„ë‹ˆê¼¬ìš´ ê¸°ì–µì´ í•œ ë²ˆ ì”© ìˆì„ ê²ƒì´ë‹¤. 

ì‚¬ì‹¤ ì˜µì €ë²„ íŒ¨í„´ì— ëŒ€í•´ì„œ ì„¤ëª…í•´ë†“ì€ ê¸€ì„ ë§ì´ ì½ì–´ë³´ì•˜ì§€ë§Œ ë³µì¡í•˜ê²Œ ì„¤ëª…ë˜ì–´ ìˆëŠ” ê²½ìš°ê°€ ë”ëŸ¬ ìˆì–´ì„œ ì´í•´ê°€ ì–´ë ¤ì› ë‹¤. ê·¼ë° ì •ë§ ì‰½ê²Œ ì„¤ëª…ë˜ì–´ ìˆëŠ” ê¸€ì„ ì½ì—ˆëŠ”ë°, ì´ê²Œ ì™ ê±¸. ê³ ë‡Œë¥¼ ê±°ë“­í•œ ëì— ë‚´ê°€ ì‚¬ìš©í•˜ê³  ìˆë˜ íŒ¨í„´ì´ ì˜µì €ë²„ íŒ¨í„´ì´ì—ˆë‹¤ğŸ˜±

ì¼ì£¼ì¼ ë‚´ë‚´ ê³ ë¯¼í•œ ë‚´ìš©ì„ ì˜ ì •ë¦¬ëœ ë¸”ë¡œê·¸ ê¸€ì„ í†µí•´ì„œ 5ë¶„ë§Œì— ìŠµë“í•œ ì¶©ê²©ì ì¸ ê²½í—˜ì„ í†µí•´ì„œ ê¸°ë³¸ê¸°ì˜ ì¤‘ìš”ì„±ì„ ìƒˆì‚¼ ì²´ê°í–ˆë‹¤. ê·¸ë˜ì„œ, ë‚´ê°€ ì¼ì£¼ì¼ ë™ì•ˆ ê³ ë¯¼í•œ ëì— ë„ë‹¬í•œ ê²°ë¡ , ì˜µì €ë²„ íŒ¨í„´ì€ ì–´ë–»ê²Œ ì“°ì´ëŠ” ê±¸ê¹Œ?


### Pub/Sub êµ¬ì¡°

![observer pattern example](í”„ë¡œê·¸ë˜ë°%20ì´ë¡ /ë””ìì¸%20íŒ¨í„´/image/ì œëª©%20ì—†ìŒ-2.png)

ìœ„ ê·¸ë¦¼ì²˜ëŸ¼ ì˜µì €ë²„ íŒ¨í„´ì€ Pub / Sub êµ¬ì¡°ë¥¼ ê°€ì§„ë‹¤.

ìš°ë¦¬ëŠ” ê°œë°œìë‹ˆê¹Œ ë°±ê²¬ì´ ë¶ˆì—¬ì¼ì½”(ë”©)ì˜ ìì„¸ë¡œ ë°”ë¡œ êµ¬í˜„í•´ë³¸ë‹¤.


```js
// Publisher
class Teacher{
    constructor()
    {
      this.students = new Array();
    }

    add(student)
    {
      this.students.push(student);
    }

    remove(student)
    {
      this.students = this.students.filter(s => s !== student)
    }

    notify(message)
    {
      this.students.forEach(s=>
      {
        s.update(message);
      })
    }

  }

// Subscriber
  class Student{
    constructor(name)
    {
      this.name = name;
    }

    update(message)
	{
      console.log(`ì„ ìƒë‹˜ì´ ${message}ë¼ê³  í•˜ì‹  ê²ƒì„, ${this.name}ê°€ ë“¤ì—ˆë‹¤.`);
    }
    
  }

  let teacher = new Teacher();
  let studentA = new Student('í•™ìƒA');
  let studentB = new Student('í•™ìƒB');

  teacher.add(studentA);
  teacher.add(studentB);

  teacher.notify(`"ë‚´ì¼ì€ í•™êµ ì•ˆ ì˜¨ë‹¤."`);


/*
ì„ ìƒë‹˜ì´ "ë‚´ì¼ì€ í•™êµ ì•ˆ ì˜¨ë‹¤."ë¼ê³  í•˜ì‹  ê²ƒì„, í•™ìƒAê°€ ë“¤ì—ˆë‹¤.
ì„ ìƒë‹˜ì´ "ë‚´ì¼ì€ í•™êµ ì•ˆ ì˜¨ë‹¤."ë¼ê³  í•˜ì‹  ê²ƒì„, í•™ìƒBê°€ ë“¤ì—ˆë‹¤.
*/
```

ì´ë ‡ë“¯ Subì— ëŒ€í•œ ê´€ë¦¬ë¥¼ í•˜ë“œì½”ë”©í•˜ì§€ ì•Šê³  Pubë¥¼ ì¤‘ê°„ì— ë‘ ìœ¼ë¡œì¨ í´ë˜ìŠ¤ ê°„ì— ê²°í•©ë„ë¥¼ ë‚®ì¶° ê´€ë¦¬ì™€ ë³€ê²½ì´ ìœ ìš©í•´ì§„ë‹¤.

ì´ëŠ” ì›¹, ê²Œì„, ì„ë² ë””ë“œ í™˜ê²½ì„ êµ¬ë¶„í•˜ì§€ ì•Šê³  ìœ ìš©í•˜ê²Œ ì“°ì´ëŠ” íŒ¨í„´ì´ë‹ˆ ê¼­ ê¸°ì–µí•´ë‘ê³  ì¨ë¨¹ì.