**BM25는 임베딩 모델(Deep Learning)이 아니라, 전통적인 '통계 기반의 텍스트 검색 알고리즘'입니다.**

구식이라고 부를 수도 있겠지만, 실무에서는 **"여전히 현역이며, 성능이 보장된 클래식"**으로 취급받습니다.

---

### 1. BM25란 무엇인가? (Best Matching 25)

사원님이 검색창에 "비빔밥"을 치면, 검색 엔진은 어떤 문서가 가장 관련 있는지 점수를 매겨야 합니다. 이때 사용하는 **수학적 공식**이 바로 BM25입니다.

기존에 쓰던 **TF-IDF**라는 방식의 단점을 보완해서 나온 버전인데, 현재 OpenSearch와 Elasticsearch의 **기본 검색 알고리즘**으로 설정되어 있습니다.

---

### 2. BM25가 점수를 매기는 3가지 핵심 원리

BM25는 인공지능처럼 문맥을 읽는 게 아니라, 아주 철저하게 **'단어의 빈도'**를 계산합니다.

1. **TF (Term Frequency):** 단어가 문서에 많이 나올수록 점수가 높습니다. (단, 너무 많이 나온다고 무한정 높아지지는 않게 조절합니다 - _Saturation_)
    
2. **IDF (Inverse Document Frequency):** "그리고", "는" 처럼 모든 문서에 다 나오는 흔한 단어는 점수를 깎고, "임베딩" 처럼 특정 문서에만 나오는 귀한 단어는 점수를 대폭 높여줍니다.
    
3. **Document Length:** 짧은 문서에 특정 단어가 한 번 나온 것이, 아주 긴 문서에 한 번 나온 것보다 더 가치 있다고 판단합니다.
    

---

### 3. 왜 "구식"이라는 느낌이 들까요? (임베딩 모델과의 차이)

사원님이 공부하신 **임베딩 모델(Dense Vector)**과 비교하면 차이가 명확합니다.

| **구분** | **BM25 (전통적 방식)**              | **임베딩 모델 (Deep Learning)**      |
| -------- | ----------------------------------- | ------------------------------------ |
| **방식** | **단어 일치 (Keyword Match)**       | **의미 일치 (Semantic Match)**       |
| **장점** | 정확한 고유명사, 숫자 검색에 탁월함 | "배고파"를 쳐도 "식사"를 찾아냄      |
| **단점** | 오타나 유의어를 못 찾음             | 정확한 모델명, 숫자를 틀릴 때가 있음 |
| **연산** | CPU 기반, 매우 가벼움               | GPU 기반, 연산량이 많음              |
| 

아까 보신 **Sparse 벡터(가중치 배열)**가 바로 이 **BM25의 진화형**이라고 보시면 됩니다!

- **BM25:** 단순히 단어 빈도를 셉니다.
    
- **BGE-M3 Sparse:** 딥러닝이 문맥을 보고 "이 문장에서 '밥'이라는 단어는 사실 '식사'라는 의미로 쓰였으니 점수를 0.3208 주자"라고 **인공지능표 가중치**를 매겨줍니다.
    

결국 **전통적 BM25의 "단어 매칭" 장점**은 살리면서, **딥러닝의 "문맥 파악" 능력**을 더한 것이 바로 사원님이 보고 계신 Sparse 벡터입니다.

---


사원님, "구식인데 왜 배워?"라고 생각하실 수 있지만, **하이브리드 검색의 한 축은 여전히 이 BM25(또는 Sparse)가 담당**해야 합니다. 아무리 똑똑한 AI(Dense)라도 "삼성전자 005930" 같은 정확한 키워드나 품번을 찾는 데는 BM25 방식이 훨씬 강력하기 때문이죠.

**이제 왜 우리가 하이브리드 검색에서 '의미(Dense)'와 '키워드(Sparse/BM25)'를 섞어 쓰는지 그 이유가 완벽히 이해되셨나요?** **다음 단계로, 실제 OpenSearch에서 BM25 점수와 벡터 점수가 어떻게 다른 비율로 섞여서 최종 순위를 만드는지 그 '점수 합산 과정'을 눈으로 확인해 볼까요?** (이걸 이해해야 나중에 검색 품질을 튜닝할 수 있습니다!)



## <font color="#ff0000">추후 정리</font>

BM25+
Dense+
Sparse